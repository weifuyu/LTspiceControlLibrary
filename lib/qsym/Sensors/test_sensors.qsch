ÿØÿÛ«schematic
  «component (0,0) 0 0
    «symbol CurrentSensor
      «type: X»
      «description: Current Sensor»
      «library file: |.subckt CurrentSensor n+ n- vi\nV1 n+ n- 0 Rser=0\nH1 vi 0 V1 1\n.ends CurrentSensor»
      «shorted pins: false»
      «line (-70,100) (70,100) 0 0 0x1000000 -1 -1»
      «line (70,-100) (-70,-100) 0 0 0x1000000 -1 -1»
      «line (0,-100) (30,-70) 0 0 0x1000000 -1 -1»
      «line (0,-100) (-30,-70) 0 0 0x1000000 -1 -1»
      «line (-200,0) (-100,0) 0 0 0x1000000 -1 -1»
      «line (-150,50) (-100,0) 0 0 0x1000000 -1 -1»
      «line (-100,0) (-150,-50) 0 0 0x1000000 -1 -1»
      «line (100,0) (200,0) 0 0 0x1000000 -1 -1»
      «ellipse (-100,100) (-30,-100) 0 0 0 0x1000000 0x1000000 -1 -1»
      «ellipse (-80,50) (-50,-50) 0 0 0 0x1000000 0x57ffff -1 -1»
      «arc3p (70,-100) (70,100) (-80,0) 0 0 0x1000000 -1 -1»
      «text (0,350) 1 0 2 0x1000000 -1 -1 "X1"»
      «text (50,500) 1 0 2 0x1000000 -1 -1 "CURRENTSENSOR"»
      «pin (-200,0) (20,0) 1 15 0 0x0 -1 "n+"»
      «pin (200,0) (-20,0) 1 15 0 0x0 -1 "n-"»
      «pin (0,-100) (0,0) 1 15 0 0x0 -1 "vi"»
    »
  »
  «component (-600,-400) 0 0
    «symbol Vsin
      «type: V»
      «description: Independent Voltage Source»
      «shorted pins: false»
      «line (0,-130) (0,-200) 0 0 0x1000000 -1 -1»
      «line (0,200) (0,130) 0 0 0x1000000 -1 -1»
      «rect (-25,77) (25,73) 0 0 0 0x1000000 0x3000000 -1 0 -1»
      «rect (-2,50) (2,100) 0 0 0 0x1000000 0x3000000 -1 0 -1»
      «rect (-25,-73) (25,-77) 0 0 0 0x1000000 0x3000000 -1 0 -1»
      «ellipse (-130,130) (130,-130) 0 0 0 0x1000000 0x1000000 -1 -1»
      «arc3p (0,0) (60,0) (30,0) 0 0 0x1000000 -1 -1»
      «arc3p (0,0) (-60,0) (-30,0) 0 0 0x1000000 -1 -1»
      «text (100,150) 1 7 0 0x1000000 -1 -1 "V1"»
      «text (100,-150) 1 7 0 0x1000000 -1 -1 "SIN 0 1 50"»
      «pin (0,200) (0,0) 1 0 0 0x0 -1 "+"»
      «pin (0,-200) (0,0) 1 0 0 0x0 -1 "-"»
    »
  »
  «component (500,-300) 0 0
    «symbol R
      «type: R»
      «description: Resistor(USA Style Symbol)»
      «shorted pins: false»
      «line (0,200) (0,180) 0 0 0x1000000 -1 -1»
      «line (0,-180) (0,-200) 0 0 0x1000000 -1 -1»
      «zigzag (-80,180) (80,-180) 0 0 0 0x1000000 -1 -1»
      «text (100,150) 1 7 0 0x1000000 -1 -1 "R1"»
      «text (100,-150) 1 7 0 0x1000000 -1 -1 "1"»
      «pin (0,200) (0,0) 1 0 0 0x0 -1 "1"»
      «pin (0,-200) (0,0) 1 0 0 0x0 -1 "2"»
    »
  »
  «component (-1100,1000) 0 0
    «symbol V
      «type: V»
      «description: Independent Voltage Source»
      «shorted pins: false»
      «line (0,-130) (0,-200) 0 0 0x1000000 -1 -1»
      «line (0,200) (0,130) 0 0 0x1000000 -1 -1»
      «rect (-25,77) (25,73) 0 0 0 0x1000000 0x3000000 -1 0 -1»
      «rect (-2,50) (2,100) 0 0 0 0x1000000 0x3000000 -1 0 -1»
      «rect (-25,-73) (25,-77) 0 0 0 0x1000000 0x3000000 -1 0 -1»
      «ellipse (-130,130) (130,-130) 0 0 0 0x1000000 0x1000000 -1 -1»
      «text (100,150) 1 7 0 0x1000000 -1 -1 "V2"»
      «text (100,-150) 1 7 0 0x1000000 -1 -1 "50"»
      «pin (0,200) (0,0) 1 0 0 0x0 -1 "+"»
      «pin (0,-200) (0,0) 1 0 0 0x0 -1 "-"»
    »
  »
  «component (800,1000) 0 0
    «symbol R
      «type: R»
      «description: Resistor(USA Style Symbol)»
      «shorted pins: false»
      «line (0,200) (0,180) 0 0 0x1000000 -1 -1»
      «line (0,-180) (0,-200) 0 0 0x1000000 -1 -1»
      «zigzag (-80,180) (80,-180) 0 0 0 0x1000000 -1 -1»
      «text (100,150) 1 7 0 0x1000000 -1 -1 "R2"»
      «text (100,-150) 1 7 0 0x1000000 -1 -1 "1"»
      «pin (0,200) (0,0) 1 0 0 0x0 -1 "1"»
      «pin (0,-200) (0,0) 1 0 0 0x0 -1 "2"»
    »
  »
  «component (-100,1300) 0 0
    «symbol 3HallSensors
      «type: X»
      «description: 3 Hall effect position sensors. (default Np=3 Pm0=0); u=(Pe>=0)&(Pe<pi); v=(Pe>=2/3*pi)&(Pe<5/3*pi); w=!((Pe>=1/3*pi)&(Pe<4/3*pi)); Pe=(Om*Np/s)%(2*pi)»
      «library file: |.subckt 3HallSensors m+ m- u v w\nV1 m+ m- 0 Rser=0\nB1 Pe 0 V=mod(idt(I(V1)*Np,Pm0*Np), 2*pi)\nB2 u 0 V=(V(Pe)>=0)&(V(Pe)<pi)\nB3 v 0 V=(V(Pe)>=2/3*pi)&(V(Pe)<5/3*pi)\nB4 w 0 V=!((V(Pe)>=1/3*pi)&(V(Pe)<4/3*pi))\n.func mod(x,base) x - floor(x/base)*base\n.param Np=3 Pm0=0\n.ends»
      «shorted pins: false»
      «line (0,-300) (0,-160) 0 0 0x1000000 -1 -1»
      «line (100,60) (100,-100) 0 0 0x1000000 -1 -1»
      «line (100,-100) (200,-200) 0 0 0x1000000 -1 -1»
      «line (200,-200) (200,-300) 0 0 0x1000000 -1 -1»
      «line (-100,50) (-100,-100) 0 0 0x1000000 -1 -1»
      «line (-100,-100) (-200,-200) 0 0 0x1000000 -1 -1»
      «line (-200,-200) (-200,-300) 0 0 0x1000000 -1 -1»
      «line (-300,0) (-200,0) 0 0 0x1000000 -1 -1»
      «line (-250,50) (-200,0) 0 0 0x1000000 -1 -1»
      «line (-200,0) (-250,-50) 0 0 0x1000000 -1 -1»
      «line (200,0) (300,0) 0 0 0x1000000 -1 -1»
      «ellipse (-200,200) (200,-200) 0 0 0 0x1000000 0xffffff -1 -1»
      «ellipse (-130,140) (130,-140) 0 0 0 0x1000000 0xa0ffff -1 -1»
      «ellipse (-20,-110) (30,-160) 0 0 0 0x1000000 0x1000000 -1 -1»
      «ellipse (70,110) (120,60) 0 0 0 0x1000000 0x1000000 -1 -1»
      «ellipse (-130,100) (-80,50) 0 0 0 0x1000000 0x1000000 -1 -1»
      «text (0,400) 1 15 2 0x1000000 -1 -1 "X2"»
      «text (50,550) 1 15 2 0x1000000 -1 -1 "3HALLSENSORS"»
      «text (-50,300) 1 0 0 0x0 -1 -1 "Np=3"»
      «pin (-300,0) (20,0) 1 15 0 0x0 -1 "m+"»
      «pin (300,0) (20,0) 1 15 0 0x0 -1 "m-"»
      «pin (-200,-300) (20,0) 1 15 0 0x0 -1 "u"»
      «pin (0,-300) (-20,0) 1 15 0 0x0 -1 "v"»
      «pin (200,-300) (-20,0) 1 15 0 0x0 -1 "w"»
    »
  »
  «net (-600,-700) 1 13 0 "GND"»
  «net (500,-600) 1 13 0 "GND"»
  «net (0,-300) 1 13 0 "I"»
  «net (800,700) 1 13 0 "GND"»
  «net (-1100,700) 1 13 0 "GND"»
  «net (-300,800) 1 13 0 "hu"»
  «net (-100,800) 1 13 0 "hv"»
  «net (100,800) 1 13 0 "hw"»
  «wire (-600,-200) (-600,0) "N01"»
  «wire (-600,-700) (-600,-600) "GND"»
  «wire (200,0) (500,0) "N02"»
  «wire (-600,0) (-200,0) "N01"»
  «wire (500,-100) (500,0) "N02"»
  «wire (500,-600) (500,-500) "GND"»
  «wire (0,-300) (0,-100) "I"»
  «wire (800,1200) (800,1300) "N03"»
  «wire (800,700) (800,800) "GND"»
  «wire (800,1300) (200,1300) "N03"»
  «wire (-1100,1200) (-1100,1300) "N04"»
  «wire (-1100,700) (-1100,800) "GND"»
  «wire (-1100,1300) (-400,1300) "N04"»
  «wire (-300,800) (-300,1000) "hu"»
  «wire (-100,1000) (-100,800) "hv"»
  «wire (100,1000) (100,800) "hw"»
  «text (-2800,50) 1 7 0 0x1000000 -1 -1 "ï»¿.tran 20m\n \n.plot tran V(I)\n.plot tran V(hu) V(hv) V(hw)"»
»

