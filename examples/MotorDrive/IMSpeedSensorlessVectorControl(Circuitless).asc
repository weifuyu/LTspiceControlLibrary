Version 4
SHEET 1 2908 680
WIRE -544 -736 -560 -736
WIRE -176 -736 -544 -736
WIRE 608 -736 -176 -736
WIRE 736 -736 608 -736
WIRE 816 -736 800 -736
WIRE 928 -736 880 -736
WIRE -560 -688 -560 -736
WIRE 736 -672 688 -672
WIRE 848 -672 848 -704
WIRE 848 -672 800 -672
WIRE 1184 -672 1152 -672
WIRE 1200 -672 1184 -672
WIRE 1280 -672 1264 -672
WIRE 1280 -656 1280 -672
WIRE 1296 -656 1280 -656
WIRE 1312 -656 1296 -656
WIRE 1488 -656 1440 -656
WIRE 1552 -656 1488 -656
WIRE 928 -640 928 -736
WIRE 960 -640 928 -640
WIRE 992 -640 960 -640
WIRE 1072 -640 1056 -640
WIRE 1152 -640 1152 -672
WIRE 1152 -640 1136 -640
WIRE 1552 -640 1552 -656
WIRE 624 -608 624 -672
WIRE 624 -608 208 -608
WIRE 736 -608 624 -608
WIRE 816 -608 800 -608
WIRE 960 -608 880 -608
WIRE 992 -608 960 -608
WIRE 1072 -608 1056 -608
WIRE 1184 -608 1136 -608
WIRE 1296 -608 1184 -608
WIRE 1312 -608 1296 -608
WIRE 1152 -576 1136 -576
WIRE 1296 -560 1280 -560
WIRE 1312 -560 1296 -560
WIRE 1456 -560 1440 -560
WIRE 1472 -560 1456 -560
WIRE 1552 -560 1536 -560
WIRE 608 -544 608 -736
WIRE 672 -544 608 -544
WIRE 848 -544 848 -576
WIRE 848 -544 800 -544
WIRE 1152 -544 1152 -576
WIRE 1184 -544 1152 -544
WIRE 1216 -544 1184 -544
WIRE 1280 -544 1280 -560
WIRE 656 -512 656 -640
WIRE 704 -512 656 -512
WIRE 1456 -512 1456 -560
WIRE -544 -464 -560 -464
WIRE -416 -464 -544 -464
WIRE -320 -464 -352 -464
WIRE -304 -464 -320 -464
WIRE -144 -464 -240 -464
WIRE -64 -464 -80 -464
WIRE 48 -464 -64 -464
WIRE 80 -464 48 -464
WIRE 176 -464 144 -464
WIRE 208 -464 208 -608
WIRE 208 -464 176 -464
WIRE 224 -464 208 -464
WIRE 368 -464 352 -464
WIRE 448 -464 368 -464
WIRE 480 -464 448 -464
WIRE 576 -464 544 -464
WIRE 624 -464 576 -464
WIRE 656 -464 656 -512
WIRE 656 -464 624 -464
WIRE 800 -464 656 -464
WIRE 896 -464 864 -464
WIRE 928 -464 896 -464
WIRE 1024 -464 1024 -560
WIRE 1024 -464 928 -464
WIRE -560 -432 -560 -464
WIRE -64 -416 -64 -464
WIRE 0 -416 -64 -416
WIRE 80 -416 64 -416
WIRE 112 -416 112 -432
WIRE 112 -416 80 -416
WIRE 368 -416 368 -464
WIRE 464 -416 432 -416
WIRE 512 -416 512 -432
WIRE 512 -416 464 -416
WIRE -320 -368 -352 -368
WIRE -272 -368 -272 -432
WIRE -272 -368 -320 -368
WIRE -176 -368 -176 -736
WIRE 960 -368 944 -368
WIRE 992 -368 960 -368
WIRE 1072 -368 1056 -368
WIRE 1104 -368 1072 -368
WIRE 1216 -368 1168 -368
WIRE 1232 -368 1232 -656
WIRE 1232 -368 1216 -368
WIRE -224 -336 -240 -336
WIRE -208 -336 -224 -336
WIRE 256 -336 256 -432
WIRE 256 -336 -80 -336
WIRE 960 -336 256 -336
WIRE 992 -336 960 -336
WIRE 1088 -336 1056 -336
WIRE 1104 -336 1088 -336
WIRE 1216 -304 1168 -304
WIRE 1248 -304 1248 -528
WIRE 1248 -304 1216 -304
WIRE -272 -256 -272 -304
WIRE 624 -256 624 -464
WIRE 624 -256 -272 -256
WIRE 928 -256 928 -464
WIRE 960 -256 928 -256
WIRE 1024 -256 1024 -288
WIRE 1328 -240 1312 -240
WIRE 1504 -240 1504 -544
WIRE 1504 -240 1328 -240
WIRE 992 -208 976 -208
WIRE 1072 -208 1072 -368
WIRE 1072 -208 1056 -208
WIRE 992 -176 976 -176
WIRE 1088 -176 1088 -336
WIRE 1088 -176 1056 -176
WIRE 1216 -128 1200 -128
WIRE 1232 -128 1216 -128
WIRE 1328 -128 1296 -128
WIRE 1360 -128 1360 -544
WIRE 1360 -128 1328 -128
WIRE 1024 -96 1024 -128
WIRE 1040 -96 1024 -96
WIRE 1216 -96 1104 -96
WIRE 1232 -96 1216 -96
WIRE 1328 -96 1296 -96
WIRE 1392 -96 1392 -544
WIRE 1392 -96 1328 -96
FLAG 1216 -368 iu
FLAG 1216 -304 iw
FLAG 960 -368 ig1^
FLAG 960 -336 id1^
FLAG 960 -640 vg1*
FLAG 960 -608 vd1*
FLAG 1184 -672 vu*
FLAG 1184 -608 vv*
FLAG 1184 -544 vw*
FLAG 1456 -512 0
FLAG 576 -464 oe1*
FLAG 896 -464 pe1*
FLAG 1488 -656 Tm
FLAG 1296 -656 U
FLAG 1296 -608 V
FLAG 1296 -560 W
FLAG 176 -464 id1*
FLAG 448 -464 oe1*_p
FLAG 464 -416 oe1*_i
FLAG -544 -464 om*
FLAG 48 -464 id1*_p
FLAG 80 -416 id1*_i
FLAG -560 -352 0
FLAG -224 -336 os^
FLAG -320 -368 oe2^
FLAG -320 -464 oe2*
FLAG -544 -736 ig1*
FLAG -560 -608 0
FLAG 976 -208 ig1
FLAG 976 -176 id1
FLAG 1216 -96 pf2
FLAG 1328 -240 om
FLAG -416 -368 om^
FLAG 1248 -240 oe2
FLAG 1216 -128 f2
FLAG 1328 -96 fb2
FLAG 1328 -128 fa2
SYMBOL LTspiceControlLibrary\\CoordinateTransformations\\uw-abTransformation 1168 -416 M0
SYMATTR InstName U32
SYMBOL LTspiceControlLibrary\\CoordinateTransformations\\xyRotation 1056 -416 M0
SYMATTR InstName U2
SYMBOL LTspiceControlLibrary\\Math\\Operands\\neg 976 -224 R0
SYMATTR InstName U3
SYMBOL LTspiceControlLibrary\\CoordinateTransformations\\xyRotation 992 -688 R0
SYMATTR InstName U4
SYMBOL LTspiceControlLibrary\\CoordinateTransformations\\ab-uvwTransformation 1072 -688 R0
SYMATTR InstName U5
SYMBOL LTspiceControlLibrary\\TransferFunctions\\Integral 816 -432 R0
SYMATTR InstName U6
SYMBOL voltage 1552 -656 R0
WINDOW 123 0 0 Left 2
WINDOW 39 0 0 Left 2
SYMATTR InstName V1
SYMATTR Value PULSE(0 5.12 0.8 0.3 0.3 1G)
SYMBOL sub 240 -432 R0
SYMATTR InstName U7
SYMBOL Integral 384 -384 R0
SYMATTR Value T=0.1m
SYMATTR InstName U8
SYMBOL Proportional 304 -432 R0
SYMATTR InstName U9
SYMBOL add 496 -432 R0
SYMATTR InstName U10
SYMBOL sub -288 -432 R0
SYMATTR InstName U11
SYMBOL Integral 16 -384 R0
SYMATTR InstName U12
SYMATTR Value T=0.1
SYMBOL Proportional -128 -432 R0
SYMATTR Value K=0.1
SYMATTR InstName U13
SYMBOL add 96 -432 R0
SYMATTR InstName U14
SYMBOL voltage -560 -448 R0
WINDOW 3 24 44 Left 2
WINDOW 123 24 72 Left 2
WINDOW 39 0 0 Left 2
SYMATTR Value PULSE(0 {1400/60*2*pi} 10m 0.3 0.3 1G)
SYMATTR Value2 AC 1
SYMATTR InstName V2
SYMBOL Proportional -96 -304 M0
WINDOW 3 33 0 Right 2
SYMATTR Value K={R2/L2}
SYMATTR InstName U15
SYMBOL sub -240 -320 R270
SYMATTR InstName U16
SYMBOL Proportional -400 -432 R0
SYMATTR Value K={Np}
SYMATTR InstName U17
SYMBOL voltage -560 -704 R0
WINDOW 3 24 44 Left 2
WINDOW 123 0 0 Left 2
WINDOW 39 0 0 Left 2
SYMATTR Value 1.1
SYMATTR InstName V3
SYMBOL Proportional 752 -704 R0
SYMATTR Value K={R1}
SYMATTR InstName U18
SYMBOL Proportional 752 -640 R0
SYMATTR Value K={L1*sigma}
SYMATTR InstName U19
SYMBOL LTspiceControlLibrary\\Math\\Operands\\mul 640 -640 R0
SYMATTR InstName U20
SYMBOL add 832 -704 R0
SYMATTR InstName U21
SYMBOL LTspiceControlLibrary\\Math\\Operands\\div -160 -368 R180
SYMATTR InstName U22
SYMBOL Proportional 752 -576 R0
SYMATTR Value K={R1}
SYMATTR InstName U23
SYMBOL Proportional 752 -512 R0
SYMATTR Value K={L1}
SYMATTR InstName U24
SYMBOL LTspiceControlLibrary\\Math\\Operands\\mul 688 -512 R0
SYMATTR InstName U25
SYMBOL add 832 -576 R0
SYMATTR InstName U26
SYMBOL LTspiceControlLibrary\\CoordinateTransformations\\xyRotation 1056 -256 M0
SYMATTR InstName U27
SYMBOL LTspiceControlLibrary\\Math\\Operands\\neg 1088 -64 M0
SYMATTR InstName U28
SYMBOL Proportional -368 -336 M0
WINDOW 3 33 0 Right 2
SYMATTR Value K={1/Np}
SYMATTR InstName U29
SYMBOL Proportional 1296 -208 M0
WINDOW 3 32 -4 Right 2
SYMATTR Value K={Np}
SYMATTR InstName U30
SYMBOL LTspiceControlLibrary\\CoordinateTransformations\\xy-rpTransformation 1296 -176 M0
SYMATTR InstName U34
SYMBOL LTspiceControlLibrary\\Motors\\InductionMotor 1440 -608 R0
SYMATTR InstName U1
SYMATTR Value R1={R1} R2={R2} M={M} Ll1={Ll1} Ll2={Ll2} Dm={Dm} Jm={Jm} Np={Np}
SYMBOL LTspiceControlLibrary\\Sensors\\CurrentSensor 1232 -672 R0
SYMATTR InstName U33
SYMBOL LTspiceControlLibrary\\Sensors\\CurrentSensor 1248 -544 R0
SYMATTR InstName U35
SYMBOL LTspiceControlLibrary\\Sensors\\CurrentSensor 1504 -560 M0
SYMATTR InstName U36
TEXT 1248 -880 Left 2 !** IM parameters\n.param R1=4.4 R2=4.8 M=0.4 Ll1=1m Ll2=1m Dm=0.4m Jm=3m Np=2\n.param L1=Ll1+M L2=Ll2+M sigma=1-M*M/(L1*L2)
TEXT 1264 -440 Left 2 ;sensor
TEXT 928 -776 Left 2 ;coordinate transformation
TEXT -560 -848 Left 2 !.tran 1.6
TEXT -600 -888 Left 4 ;Config
TEXT -600 -800 Left 4 ;Control System
TEXT -632 -952 Left 5 ;IM Speed Sensorless Vector Control
TEXT 1560 -448 Left 2 ;Analogy between\nElectric Circuit  - Rotating Machinery\nQ: charge - Pm: angle\nI: current - Om: angular velocity\nV: voltage - Tm: torque\nR: resistance - Dm: viscous resistance\nL: inductance - Jm: moment of inertia\nC: capacitance - Km: torsion coefficient
TEXT 1560 -680 Left 2 ;disturbance torque
TEXT -352 -512 Left 2 ;speed controller
TEXT 224 -512 Left 2 ;current controller
TEXT 616 -776 Left 2 ;stator voltage calculator
