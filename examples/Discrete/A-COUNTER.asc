Version 4
SHEET 1 2828 940
WIRE 1328 -544 1312 -544
WIRE 1312 -528 1312 -544
WIRE 816 -480 800 -480
WIRE 576 -448 560 -448
WIRE 816 -416 800 -416
WIRE 1328 -400 1312 -400
WIRE 1312 -384 1312 -400
WIRE 1200 -240 768 -240
WIRE 1040 -192 1024 -192
WIRE 896 -176 880 -176
WIRE 880 -144 880 -176
WIRE 896 -144 880 -144
WIRE 992 -144 960 -144
WIRE 1040 -128 1040 -192
WIRE 1056 -128 1040 -128
WIRE 1120 -112 1120 -128
WIRE 1200 -112 1200 -240
WIRE 1200 -112 1184 -112
WIRE 768 -96 768 -240
WIRE 784 -96 768 -96
WIRE 880 -96 880 -144
WIRE 880 -96 864 -96
WIRE 976 -96 880 -96
WIRE 992 -96 976 -96
WIRE 1056 -96 992 -96
WIRE 704 -48 576 -48
WIRE 1088 -48 1088 -64
WIRE 1088 -48 864 -48
WIRE 1024 0 576 0
WIRE 1152 0 1152 -64
WIRE 736 32 736 -16
WIRE 736 32 720 32
WIRE 1120 32 736 32
WIRE 992 48 992 -96
WIRE 1216 48 992 48
WIRE 1296 48 1280 48
WIRE 1248 80 1200 80
WIRE 640 96 608 96
WIRE 704 96 640 96
WIRE 832 96 816 96
WIRE 848 96 832 96
WIRE 928 96 928 -112
WIRE 928 96 912 96
WIRE 992 112 992 48
WIRE 1120 112 992 112
WIRE 1216 112 1184 112
WIRE 1296 112 1280 112
WIRE 640 160 640 96
WIRE 1200 160 1200 80
WIRE 1200 160 816 160
WIRE 1248 160 1248 144
WIRE 1248 160 1200 160
WIRE 832 192 832 96
WIRE 1008 192 976 192
WIRE 672 208 672 192
WIRE 672 208 608 208
WIRE 1152 208 1152 144
WIRE 1152 208 1136 208
WIRE 1008 224 1008 192
WIRE 1072 224 1008 224
WIRE 992 256 992 112
WIRE 1040 256 992 256
WIRE 1008 288 1008 224
WIRE 1072 288 1008 288
WIRE 592 336 576 336
WIRE 752 336 736 336
WIRE 896 336 880 336
WIRE 576 352 576 336
WIRE 736 352 736 336
WIRE 880 352 880 336
WIRE 528 416 512 416
WIRE 512 432 512 416
FLAG 1312 -448 0
FLAG 1312 -544 CLK
FLAG 560 -448 CLK
FLAG 816 -480 Phi1_a
FLAG 1296 48 Phi1_b
FLAG 576 -48 CLK
FLAG 816 -416 Phi2_a
FLAG 960 -208 0.
FLAG 1296 112 Phi2_b
FLAG 576 432 0
FLAG 576 336 cycles
FLAG 608 96 cycles
FLAG 736 432 0
FLAG 736 336 duty
FLAG 608 208 duty
FLAG 880 432 0
FLAG 880 336 start
FLAG 720 32 start
FLAG 1120 -96 0.
FLAG 1312 -304 0
FLAG 1312 -400 RESET
FLAG 576 0 RESET
FLAG 976 -96 count
FLAG 512 432 0
FLAG 512 416 0.
SYMBOL voltage 1312 -544 R0
WINDOW 123 0 0 Left 2
WINDOW 39 0 0 Left 2
SYMATTR InstName V1
SYMATTR Value PULSE(0 1 0 1n 1n 0.5u 1u)
SYMBOL LTspiceControlLibrary\\Discrete\\Edge 784 -16 R0
SYMATTR InstName U1
SYMBOL LTspiceControlLibrary\\Math\\Functions\\if 1072 -64 R0
SYMATTR InstName U2
SYMBOL LTspiceControlLibrary\\Math\\Operands\\inc 912 -144 R0
SYMATTR InstName U3
SYMBOL LTspiceControlLibrary\\Math\\Functions\\if 976 -144 R0
SYMATTR InstName U4
SYMBOL LTspiceControlLibrary\\Math\\Operands\\ge 912 -112 R0
SYMATTR InstName U5
SYMBOL LTspiceControlLibrary\\Math\\Operands\\lt 1232 80 R0
SYMATTR InstName U6
SYMBOL LTspiceControlLibrary\\Discrete\\Previous 800 -64 R0
SYMATTR InstName U7
SYMBOL voltage 576 336 R0
WINDOW 123 0 0 Left 2
WINDOW 39 0 0 Left 2
SYMATTR InstName V3
SYMATTR Value {cycles}
SYMBOL LTspiceControlLibrary\\Math\\Functions\\round 720 128 R0
SYMATTR InstName U8
SYMBOL LTspiceControlLibrary\\Math\\Operands\\dec 864 128 R0
SYMATTR InstName U9
SYMBOL voltage 736 336 R0
WINDOW 123 0 0 Left 2
WINDOW 39 0 0 Left 2
SYMATTR InstName V4
SYMATTR Value {duty}
SYMBOL LTspiceControlLibrary\\Math\\Operands\\mul 656 192 R0
SYMATTR InstName U10
SYMBOL LTspiceControlLibrary\\Math\\Functions\\round 720 192 R0
SYMATTR InstName U11
SYMBOL LTspiceControlLibrary\\Math\\Operands\\lt 1232 144 R0
SYMATTR InstName U12
SYMBOL LTspiceControlLibrary\\TransferFunctions\\Proportional 848 224 R0
SYMATTR Value K=0.5
SYMATTR InstName U13
SYMBOL LTspiceControlLibrary\\Math\\Functions\\if 1088 256 R0
SYMATTR InstName U14
SYMBOL LTspiceControlLibrary\\Math\\Operands\\neg 1024 224 R0
SYMATTR InstName U15
SYMBOL LTspiceControlLibrary\\Math\\Operands\\add 1136 144 R0
SYMATTR InstName U16
SYMBOL LTspiceControlLibrary\\Math\\Functions\\int 912 224 R0
SYMATTR InstName U17
SYMBOL LTspiceControlLibrary\\Math\\Operands\\ge 1056 288 R0
SYMATTR InstName U18
SYMBOL bv 880 336 R0
SYMATTR InstName B1
SYMATTR Value V=(time>0)
SYMBOL LTspiceControlLibrary\\Math\\Operands\\and_op 720 -16 R0
SYMATTR InstName U19
SYMBOL LTspiceControlLibrary\\Math\\Functions\\if 1136 -64 R0
SYMATTR InstName U20
SYMBOL voltage 1312 -400 R0
WINDOW 123 0 0 Left 2
WINDOW 39 0 0 Left 2
SYMATTR InstName V2
SYMATTR Value 0
SYMBOL LTspiceControlLibrary\\Math\\Operands\\and_op 1104 32 R0
SYMATTR InstName U21
SYMBOL LTspiceControlLibrary\\Math\\Operands\\inv_op 1040 32 R0
SYMATTR InstName U22
SYMBOL Digital\\counter 656 -480 R0
WINDOW 3 -64 -52 Left 2
SYMATTR Value cycles={cycles} duty={duty}
SYMATTR InstName A1
TEXT 704 -656 Left 2 !.param cycles=16 duty={0.5-1f}
TEXT 496 -656 Left 2 !.tran 40u
TEXT 456 -760 Left 5 ;A - COUNTER
TEXT 488 -696 Left 4 ;Config
TEXT 488 -600 Left 4 ;Reference Element
TEXT 488 -272 Left 4 ;Estimated Block Diagram
TEXT 1040 320 Left 2 ;NOTE\n  Output impedance is not considerd.\n  Parameter Vhigh, Vlow, Trise, Tfall, Tau, Cout, Rout,\n  Rhigh, Rlow, ref and tripdt are not considerd.\n  RESET is a hidden input.
TEXT 1248 -600 Left 4 ;Input
