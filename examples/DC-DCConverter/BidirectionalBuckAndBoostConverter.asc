Version 4
SHEET 1 3572 848
WIRE 704 -32 688 -32
WIRE 800 -32 768 -32
WIRE 464 64 448 64
WIRE 592 64 464 64
WIRE 688 64 688 -32
WIRE 688 64 592 64
WIRE 704 64 688 64
WIRE 800 64 800 -32
WIRE 800 64 784 64
WIRE 896 64 800 64
WIRE 1024 64 896 64
WIRE 1184 64 1104 64
WIRE 1328 64 1184 64
WIRE 1344 64 1328 64
WIRE 896 96 896 64
WIRE 1008 96 896 96
WIRE 448 112 448 64
WIRE 592 112 592 64
WIRE 896 112 896 96
WIRE 1008 112 1008 96
WIRE 1184 112 1184 64
WIRE 1344 112 1344 64
WIRE 896 208 896 192
WIRE 1008 208 1008 176
WIRE 1008 208 896 208
WIRE 448 240 448 192
WIRE 592 240 592 176
WIRE 592 240 448 240
WIRE 896 240 896 208
WIRE 896 240 592 240
WIRE 1184 240 1184 176
WIRE 1184 240 896 240
WIRE 1344 240 1344 192
WIRE 1344 240 1184 240
WIRE 448 256 448 240
WIRE 1376 416 1360 416
WIRE 480 432 448 432
WIRE 816 432 480 432
WIRE 896 432 880 432
WIRE 976 432 960 432
WIRE 1056 432 976 432
WIRE 1088 432 1056 432
WIRE 1168 432 1152 432
WIRE 1184 432 1168 432
WIRE 1296 432 1248 432
WIRE 1376 448 1360 448
WIRE 848 480 848 464
WIRE 976 480 976 432
WIRE 1056 480 1040 480
WIRE 1120 480 1120 464
WIRE 1120 480 1056 480
WIRE 1216 480 1216 464
WIRE 448 496 448 432
WIRE 848 496 848 480
WIRE 1216 496 1216 480
FLAG 448 256 0
FLAG 720 112 XP
FLAG 768 112 0
FLAG 464 64 IN
FLAG 1328 64 OUT
FLAG 1216 576 0
FLAG 448 576 0
FLAG 480 432 i*
FLAG 1056 432 m*_p
FLAG 1056 480 m*_i
FLAG 1168 432 m*
FLAG 848 128 XN
FLAG 848 176 0
FLAG 1376 416 XP
FLAG 1376 448 XN
FLAG 848 576 0
FLAG 848 480 i
FLAG 1216 480 c
SYMBOL voltage 448 96 R0
WINDOW 123 0 0 Left 2
WINDOW 39 24 124 Left 2
SYMATTR SpiceLine Rser=0.1
SYMATTR InstName V1
SYMATTR Value 10
SYMBOL diode 1024 176 R180
WINDOW 0 24 64 Left 2
WINDOW 3 24 0 Left 2
SYMATTR InstName D2
SYMBOL ind 1008 80 R270
WINDOW 0 32 56 VTop 2
WINDOW 3 5 56 VBottom 2
SYMATTR InstName L1
SYMATTR Value 10m
SYMBOL sw 800 64 M270
SYMATTR InstName S1
SYMBOL voltage 448 480 R0
WINDOW 123 0 0 Left 2
WINDOW 39 0 0 Left 2
SYMATTR InstName V3
SYMATTR Value PULSE(-1 1 0 5m 5m 25m 50m)
SYMBOL sub 832 464 R0
SYMATTR InstName U1
SYMBOL Integral 992 512 R0
SYMATTR Value T=10m
SYMATTR InstName U3
SYMBOL gt 1200 464 R0
SYMATTR InstName U5
SYMBOL Proportional 912 464 R0
SYMATTR Value K=10
SYMATTR InstName U2
SYMBOL add 1104 464 R0
SYMATTR InstName U4
SYMBOL TriangleWaveVoltage 1216 480 R0
SYMATTR InstName U6
SYMATTR Value V1=0 V2=1 Tperiod={1/10k} tratio=1
SYMBOL sw 896 208 M180
SYMATTR InstName S2
SYMBOL diode 768 -48 R90
WINDOW 0 0 32 VBottom 2
WINDOW 3 32 32 VTop 2
SYMATTR InstName D1
SYMBOL PulseModulations\\ComplementaryBufferWithDeadtime 1296 368 R0
SYMATTR InstName U7
SYMBOL voltage 1344 96 R0
WINDOW 123 0 0 Left 2
WINDOW 39 24 124 Left 2
SYMATTR SpiceLine Rser=0.1
SYMATTR InstName V2
SYMATTR Value 5
SYMBOL bv 848 480 R0
SYMATTR InstName B1
SYMATTR Value V=I(L1)
SYMBOL cap 1168 112 R0
SYMATTR InstName C2
SYMATTR Value 10u
SYMBOL cap 576 112 R0
SYMATTR InstName C1
SYMATTR Value 10u
TEXT 408 -200 Left 2 !.tran 0 100m 0 startup
TEXT 408 -168 Left 2 !.model SW SW(Ron=1 Roff=1Meg Vt=0.5)\n.model D D(Ron=.1 Roff=1Meg Vfwd=.4)
TEXT 368 328 Left 4 ;Controller
TEXT 440 376 Left 2 ;current controller
TEXT 1192 376 Left 2 ;PWM
TEXT 360 -248 Left 4 ;Config
TEXT 320 -304 Left 5 ;Bidirectional Buck and Boost Converter
TEXT 360 -88 Left 4 ;Circuit
